<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>방학 순공 플래너</title>
    <link rel="icon" type="image/x-icon" href="/logo.ico">
    <link rel="shortcut icon" href="/logo.ico">
</head>
<body>
    <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif;">
        <h2>로딩 중...</h2>
        <p>잠시만 기다려주세요.</p>
    </div>

    <script>
        console.log('🏠 메인 페이지 로딩 시작');
        
        // 세션 체크 후 적절한 페이지로 리다이렉트
        fetch('/check-session')
            .then(response => {
                console.log('📡 세션 체크 응답:', response.status);
                return response.json();
            })
            .then(data => {
                console.log('📊 세션 데이터:', data);
                if (data.authenticated) {
                    console.log('✅ 인증됨 - /planner로 이동');
                    window.location.href = '/planner';
                } else {
                    console.log('❌ 미인증 - /login으로 이동');
                    window.location.href = '/login';
                }
            })
            .catch(error => {
                console.error('🚨 세션 체크 오류:', error);
                console.log('🔄 오류 발생 - /login으로 이동');
                window.location.href = '/login';
            });
    </script>
</body>
</html>