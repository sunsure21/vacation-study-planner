<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë°©í•™ ìˆœê³µ í”Œë˜ë„ˆ - ë¡œê·¸ì¸</title>
    <!-- íŒŒë¹„ì½˜ ì™„ì „ ì œê±° ë° ìºì‹œ ë°©ì§€ -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="stylesheet" href="/css/login_style.css">
</head>
<body>
    <div class="login-container">
        <div class="login-card">
            <!-- ë¡œê³  ì˜ì—­ -->
            <div class="logo-section">
                <h1 class="service-title">ğŸ¯ ë°©í•™ ìˆœê³µ í”Œë˜ë„ˆ</h1>
                <p class="service-subtitle">AIê°€ ë„ì™€ì£¼ëŠ” ë˜‘ë˜‘í•œ ë°©í•™ í•™ìŠµ ê´€ë¦¬</p>
            </div>

            <!-- ì„œë¹„ìŠ¤ ì†Œê°œ ì˜ì—­ -->
            <div class="intro-section">
                <div class="feature-grid">
                    <div class="feature-item">
                        <div class="feature-icon">ğŸ“…</div>
                        <div class="feature-content">
                            <h3>ë°©í•™ ì¼ì • ê´€ë¦¬</h3>
                            <p>í•™ì›, ì‹ì‚¬, ì·¨ì¹¨ ì‹œê°„ì„ ê³ ë ¤í•œ ë§ì¶¤í˜• ìŠ¤ì¼€ì¤„</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">â°</div>
                        <div class="feature-content">
                            <h3>ìˆœê³µì‹œê°„ ê³„ì‚°</h3>
                            <p>ì‹¤ì œ ê³µë¶€ ê°€ëŠ¥í•œ ì‹œê°„ì„ ì •í™•íˆ ê³„ì‚°</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">ğŸ§ </div>
                        <div class="feature-content">
                            <h3>MBTI í•™ìŠµ ì½”ì¹­</h3>
                            <p>ì„±ê²© ìœ í˜•ë³„ ë§ì¶¤ í•™ìŠµ ì „ëµ ì œê³µ</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">ğŸ“Š</div>
                        <div class="feature-content">
                            <h3>í•™ìŠµ íš¨ìœ¨ ë¶„ì„</h3>
                            <p>ê³„íš ëŒ€ë¹„ ì‹¤ì œ í•™ìŠµ ì‹œê°„ ë¶„ì„</p>
                        </div>
                    </div>
                </div>

                <div class="highlight-section">
                    <p class="highlight-text">
                        "ë°©í•™ ê¸°ê°„ì„ ë”ìš± ì•Œì°¨ê²Œ ë³´ë‚´ê¸° ìœ„í•œ<br>ìµœì í™”ëœ ë°©í•™ ìˆœê³µ í”Œë˜ë„ˆ"
                    </p>
                </div>
            </div>

            <!-- ë¡œê·¸ì¸ ì˜ì—­ -->
            <div class="login-section">
                <h2 class="login-title">ì§€ê¸ˆ ì‹œì‘í•´ì„œ<br>ì•Œì°¬ ë°©í•™ ë§Œë“¤ì–´ë³´ì„¸ìš”!</h2>
                <a href="/auth/google" class="google-login-btn" id="google-login-btn">
                    <img src="https://developers.google.com/identity/images/g-logo.png" alt="Google" class="google-icon">
                    Googleë¡œ ì‹œì‘í•˜ê¸°
                </a>
                <p class="login-note">
                    ê°„í¸í•˜ê²Œ Google ê³„ì •ìœ¼ë¡œ ì‹œì‘í•˜ì„¸ìš”.<br>
                    ë³„ë„ íšŒì›ê°€ì… ì ˆì°¨ ì—†ì´ ë°”ë¡œ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
                </p>
                
                <!-- ê¸°ê¸° ìµœì í™” ì•ˆë‚´ -->
                <p class="device-notice" style="margin-top: 12px; font-size: 11px; color: #888; text-align: center; line-height: 1.3;">
                    ğŸ’» ì´ ìº˜ë¦°ë”ëŠ” ì•„ì´íŒ¨ë“œì™€ ë…¸íŠ¸ë¶ ì‚¬ì´ì¦ˆì— ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
                </p>
                <!-- ì¸ì•± ë¸Œë¼ìš°ì € ê²½ê³  ë©”ì‹œì§€ -->
                <div id="inapp-warning" style="display: none; margin-top: 15px; padding: 12px; background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px;">
                    <p style="margin: 0; font-size: 13px; color: #856404; line-height: 1.4;">
                        <strong>ğŸ“± ì¹´ì¹´ì˜¤í†¡/ë„¤ì´ë²„ì—ì„œ ì ‘ì†í•˜ì…¨ë‚˜ìš”?</strong><br>
                        Google ì •ì±…ìœ¼ë¡œ ì¸í•´ ì¼ë¶€ ì•± ë‚´ë¶€ ë¸Œë¼ìš°ì €ì—ì„œëŠ” ë¡œê·¸ì¸ì´ ì œí•œë©ë‹ˆë‹¤.<br>
                        <br>
                        <strong>í•´ê²° ë°©ë²•:</strong><br>
                        ìš°ìƒë‹¨ <strong>â‹¯ ë©”ë‰´ â†’ "ë¸Œë¼ìš°ì €ì—ì„œ ì—´ê¸°"</strong> ë˜ëŠ” <strong>"ì™¸ë¶€ ë¸Œë¼ìš°ì €ë¡œ ì—´ê¸°"</strong>ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.
                    </p>
                </div>
                
                <p class="login-help" style="margin-top: 15px; font-size: 12px; color: #666;">
                    ë¡œê·¸ì¸ì— ë¬¸ì œê°€ ìˆë‚˜ìš”? <a href="/login?error=oauth_failed" style="color: #007bff; text-decoration: none;">Gmailë¡œ ë¡œê·¸ì¸í•˜ê¸°</a>
                </p>
            </div>
        </div>
    </div>

    <script>
        // ì¸ì•± ë¸Œë¼ìš°ì € ê°ì§€ ë° ê²½ê³  í‘œì‹œ
        function detectInAppBrowser() {
            const userAgent = navigator.userAgent || '';
            
            // ì¹´ì¹´ì˜¤í†¡, ë„¤ì´ë²„, ë¼ì¸ ë“± ì£¼ìš” ì¸ì•± ë¸Œë¼ìš°ì € ê°ì§€
            const isKakaoTalk = /KAKAOTALK/i.test(userAgent);
            const isNaverApp = /NAVER\(inapp/i.test(userAgent);
            const isLineApp = /Line/i.test(userAgent);
            const isFacebookApp = /FBAN|FBAV/i.test(userAgent);
            const isInstagramApp = /Instagram/i.test(userAgent);
            const isWechatApp = /MicroMessenger/i.test(userAgent);
            
            const isInAppBrowser = isKakaoTalk || isNaverApp || isLineApp || 
                                  isFacebookApp || isInstagramApp || isWechatApp;
            
            console.log('ğŸ” ë¸Œë¼ìš°ì € ê°ì§€:', {
                userAgent: userAgent.substring(0, 100),
                isKakaoTalk,
                isNaverApp,
                isInAppBrowser
            });
            
            if (isInAppBrowser) {
                const warningDiv = document.getElementById('inapp-warning');
                if (warningDiv) {
                    warningDiv.style.display = 'block';
                }
                
                // Google ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ ì‹œ ì¶”ê°€ ì•ˆë‚´
                const googleBtn = document.getElementById('google-login-btn');
                if (googleBtn) {
                    googleBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        alert('ğŸ“± ì•± ë‚´ë¶€ ë¸Œë¼ìš°ì €ì—ì„œëŠ” Google ë¡œê·¸ì¸ì´ ì œí•œë©ë‹ˆë‹¤.\n\nìš°ìƒë‹¨ â‹¯ ë©”ë‰´ì—ì„œ "ë¸Œë¼ìš°ì €ì—ì„œ ì—´ê¸°"ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');
                    });
                }
            }
        }
        
        // URL íŒŒë¼ë¯¸í„°ì—ì„œ ì—ëŸ¬ í™•ì¸
        function checkUrlParams() {
            const urlParams = new URLSearchParams(window.location.search);
            const error = urlParams.get('error');
            
            if (error === 'inapp_browser') {
                const warningDiv = document.getElementById('inapp-warning');
                if (warningDiv) {
                    warningDiv.style.display = 'block';
                    warningDiv.scrollIntoView({ behavior: 'smooth' });
                }
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            detectInAppBrowser();
            checkUrlParams();
        });
    </script>
</body>
</html> 